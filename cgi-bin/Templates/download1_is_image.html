<div class="relative isolate overflow-hidden pt-0 ">
  <img src="<TMPL_VAR video_thumb_url>" alt="" class="absolute inset-0 -z-10 h-full w-full object-cover blur-lg">
  <div class="absolute inset-0 bg-gradient-to-t from-gray-900 to-gray-950/50"></div>
  <div class="absolute inset-0   ring-1 ring-inset ring-gray-900/10"></div>
  <div class="absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80" aria-hidden="true">
    <div
      class="relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-20 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]"
      style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)">
    </div>
  </div>
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 mt-28">
    <TMPL_IF file_status_LOCKED>
      Locked
      <TMPL_ELSE>
        <!-- Image Container -->
        <div class="flex mx-auto max-w-2xl gap-x-4">
          <div class="flex relative mx-auto gap-x-4" id="my-gallery">
            <a href="<TMPL_VAR video_thumb_url>" id="pic"
              data-download-link="<TMPL_VAR site_url>/d/<TMPL_VAR file_code>_o">
              <img src="<TMPL_VAR video_thumb_url>" class="rounded-lg w-full shadow-2xl" />
              <!-- <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40"></div>
              <div class="absolute inset-0 rounded-2xl ring-1 ring-inset ring-gray-900/10"></div> -->
            </a>



            <!-- Sidebar -->
            <div class="w-1/1 space-y-4 relative">
              <!-- File views -->
              <div class="flex flex-col items-center space-y-1">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M20.7793 13.8746L21.3886 14.312L20.7793 13.8746ZM20.7793 10.1254L20.1701 10.5628L20.7793 10.1254ZM21.6631 12H20.9131H21.6631ZM3.22067 13.8746L3.82993 13.4372L3.22067 13.8746ZM3.22067 10.1254L2.61142 9.68801L3.22067 10.1254ZM2.33691 12H1.58691H2.33691ZM2.61142 14.312C3.47962 15.5214 4.77164 17.1105 6.35173 18.4043C7.92325 19.691 9.85905 20.75 12 20.75V19.25C10.3542 19.25 8.7491 18.4285 7.302 17.2437C5.86349 16.0659 4.6592 14.5923 3.82993 13.4372L2.61142 14.312ZM12 20.75C14.141 20.75 16.0768 19.691 17.6483 18.4043C19.2284 17.1105 20.5204 15.5214 21.3886 14.312L20.1701 13.4372C19.3408 14.5923 18.1365 16.0659 16.698 17.2437C15.2509 18.4285 13.6458 19.25 12 19.25V20.75ZM21.3886 9.68801C20.5204 8.47865 19.2284 6.88946 17.6483 5.59571C16.0768 4.30899 14.141 3.25 12 3.25V4.75C13.6458 4.75 15.2509 5.57146 16.698 6.75631C18.1365 7.93414 19.3408 9.40765 20.1701 10.5628L21.3886 9.68801ZM12 3.25C9.85905 3.25 7.92325 4.30899 6.35173 5.59572C4.77164 6.88946 3.47962 8.47865 2.61142 9.68801L3.82993 10.5628C4.6592 9.40765 5.86348 7.93414 7.302 6.75631C8.7491 5.57146 10.3542 4.75 12 4.75V3.25ZM21.3886 14.312C21.943 13.5398 22.4131 12.9286 22.4131 12H20.9131C20.9131 12.3585 20.794 12.5681 20.1701 13.4372L21.3886 14.312ZM20.1701 10.5628C20.794 11.4319 20.9131 11.6415 20.9131 12H22.4131C22.4131 11.0714 21.943 10.4602 21.3886 9.68801L20.1701 10.5628ZM3.82993 13.4372C3.20597 12.5681 3.08691 12.3585 3.08691 12H1.58691C1.58691 12.9286 2.05703 13.5398 2.61142 14.312L3.82993 13.4372ZM2.61142 9.68801C2.05703 10.4602 1.58691 11.0714 1.58691 12H3.08691C3.08691 11.6415 3.20597 11.4319 3.82993 10.5628L2.61142 9.68801ZM8.25001 12C8.25001 14.0711 9.92894 15.75 12 15.75V14.25C10.7574 14.25 9.75001 13.2426 9.75001 12H8.25001ZM12 15.75C14.0711 15.75 15.75 14.0711 15.75 12H14.25C14.25 13.2426 13.2426 14.25 12 14.25V15.75ZM15.75 12C15.75 9.92893 14.0711 8.25 12 8.25V9.75C13.2426 9.75 14.25 10.7574 14.25 12H15.75ZM12 8.25C9.92894 8.25 8.25001 9.92893 8.25001 12H9.75001C9.75001 10.7574 10.7574 9.75 12 9.75V8.25Z"
                    fill="#FAFAFA">
                  </path>
                </svg>
                <span class="text-xs text-white font-medium text-center">
                  <TMPL_VAR file_views>
                </span>
              </div>

              <!-- File likes / reactions -->
              <div class="flex flex-col items-center space-y-1">
                <a href="#" onclick="return jah('/?op=vote&file_code=<TMPL_VAR file_code>&v=<TMPL_VAR vote_action>')"
                  title="<TMPL_VAR vote_action>">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M20.3115 4.46071C17.9773 2.08032 15.2743 3.08425 13.6007 4.14593C12.655 4.74582 11.345 4.74582 10.3993 4.14593C8.72564 3.08427 6.02272 2.08035 3.68853 4.46072C-1.85249 10.1114 7.64988 21 12 21C16.3502 21 25.8525 10.1114 20.3115 4.46071Z"
                      stroke="white" stroke-width="1.5"></path>
                  </svg>
                </a>
                <span class="text-xs text-white font-medium">
                  <span id="likes_num-<TMPL_VAR file_id>">
                    <TMPL_VAR likes>
                  </span>
                </span>
              </div>

              <!-- File download button -->
              <TMPL_IF downloads_off>
                <div class="flex flex-col items-center space-y-1">
                  <TMPL_IF transfer>
                    <svg class="motion-reduce:hidden animate-spin w-6 h-6 text-white" xmlns="http://www.w3.org/2000/svg"
                      fill="none" viewBox="0 0 24 24">
                      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4">
                      </circle>
                      <path class="opacity-75" fill="currentColor"
                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                      </path>
                    </svg>
                    <TMPL_ELSE>
                      <a href="<TMPL_VAR site_url>/d/<TMPL_VAR file_code>_o" target="_blank">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                          stroke="white" class="w-6 h-6">
                          <path stroke-linecap="round" stroke-linejoin="round"
                            d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
                        </svg>
                      </a>
                  </TMPL_IF>
                </div>
              </TMPL_IF>

              <!-- File Open options -->
              <div class="flex flex-col items-center space-y-1">
                <div class="relative inline-block text-left">
                  <div class="inline-flex">
                    <div x-data="{ isOpen: false }">
                      <button @click="isOpen = !isOpen" type="button"
                        class="mt-1 flex items-center rounded-full text-gray-400 hover:text-gray-600" id="menu-0-button"
                        aria-expanded="false" aria-haspopup="true">
                        <span class="sr-only">Open options</span>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z"
                            stroke="white" stroke-width="1.5"></path>
                          <path
                            d="M9 12C9 12.5523 8.55228 13 8 13C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11C8.55228 11 9 11.4477 9 12Z"
                            fill="white"></path>
                          <path
                            d="M13 12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12C11 11.4477 11.4477 11 12 11C12.5523 11 13 11.4477 13 12Z"
                            fill="white"></path>
                          <path
                            d="M17 12C17 12.5523 16.5523 13 16 13C15.4477 13 15 12.5523 15 12C15 11.4477 15.4477 11 16 11C16.5523 11 17 11.4477 17 12Z"
                            fill="white"></path>
                        </svg>

                      </button>

                      <!-- File Mini menu -->
                      <div x-cloak @click.away="isOpen = false" x-show="isOpen"
                        x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100"
                        x-transition:leave="transition ease-in duration-100 transform opacity-100 scale-100"
                        x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-95"
                        class="absolute right-0 z-10 mt-4 mr-3 w-30 origin-top-right rounded-md bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"
                        role="menu" aria-orientation="vertical" aria-labelledby="menu-0-button" tabindex="-1">

                        <!-- Report Button -->
                        <div class="py-1" role="none">
                          <button data-modal-id="modal-2" type="button" class="text-gray-300 flex px-4 py-2 text-sm"
                            role="menuitem" tabindex="-1" id="menu-0-item-0"
                            onClick="return jah('<TMPL_VAR site_url>/?op=cmt_del&amp;i=<TMPL_VAR cmt_id>')">
                            <svg class="mr-3 h-5 w-5 fill-gray-400" xmlns="http://www.w3.org/2000/svg"
                              viewBox="0 0 448 512">
                              <path
                                d="M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32V64 368 480c0 17.7 14.3 32 32 32s32-14.3 32-32V352l64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L64 48V32z" />
                            </svg>
                            <span class="hover:text-white">Report</span>
                          </button>
                        </div>

                        <!-- Playlist Button -->
                        <div class="text-gray-300 flex px-4 py-2 text-sm">
                          <button data-modal-id="modal-4" type="button" class="inline-flex"
                            x-on:click="$dispatch('open-modal-modal-4')">
                            <svg class="mr-3 h-5 w-5 fill-gray-400" xmlns="http://www.w3.org/2000/svg"
                              viewBox="0 0 512 512">
                              <path
                                d="M498.7 6c8.3 6 13.3 15.7 13.3 26V96c0 13.8-8.8 26-21.9 30.4L416 151.1V432c0 44.2-50.1 80-112 80s-112-35.8-112-80s50.1-80 112-80c17.2 0 33.5 2.8 48 7.7V128 64c0-13.8 8.8-26 21.9-30.4l96-32C479.6-1.6 490.4 0 498.7 6zM32 64H256c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96S14.3 64 32 64zm0 128H256c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32z">
                              </path>
                            </svg>
                            <span class="hover:text-white">Playlist</span>
                          </button>
                        </div>

                        <!-- Add to my files button -->
                        <div class="text-gray-300 flex px-4 py-2 text-sm">
                          <button type="button" class="inline-flex" value="Add to My Account"
                            onclick="return jah('/?op=my_files&amp;add_my_acc=<TMPL_VAR file_code>',$(this).parent())">
                            <svg class="mr-3 h-5 w-5 fill-gray-400" xmlns="http://www.w3.org/2000/svg"
                              viewBox="0 0 512 512">
                              <path
                                d="M512 416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H192c20.1 0 39.1 9.5 51.2 25.6l19.2 25.6c6 8.1 15.5 12.8 25.6 12.8H448c35.3 0 64 28.7 64 64V416zM232 376c0 13.3 10.7 24 24 24s24-10.7 24-24V312h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H280V200c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H168c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z">
                              </path>
                            </svg>
                            <span class="hover:text-white">Files</span>
                          </button>
                        </div>

                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>


        <!-- Author -->
        <div class="mx-auto max-w-2xl mt-4 relative ">
          <div class="flex <TMPL_UNLESS usr_file_privacy>gap-x-2</TMPL_UNLESS> ">
            <div class="flex-shrink-0">
              <TMPL_UNLESS usr_file_privacy>
              <TMPL_IF user_channel_avatar>
                <img class="mx-auto h-12 w-12 rounded-full object-cover"
                  src="<TMPL_VAR site_url>/upload-data/<TMPL_VAR user_channel_avatar>"
                  alt="<TMPL_VAR usr_channel_name>">
                <TMPL_ELSE>
                  <span
                    class="mx-auto flex h-12 w-12 shrink-0 items-center justify-center rounded-full border border-gray-700 bg-gray-800 text-[2rem] font-semibold text-gray-400 group-hover:text-white uppercase">
                    <TMPL_VAR usr_login_short_dl>
                  </span>
              </TMPL_IF>
              </TMPL_UNLESS>
            </div>



            <!-- Channel info -->
            <div class="text-center sm:text-left">
              <TMPL_UNLESS usr_file_privacy>
              <div class="inline-flex items-center">
                <a href="/@<TMPL_VAR file_usr_login>"
                  class="font-semibold text-sm <TMPL_IF usr_adm>text-red-400<TMPL_ELSIF usr_mod>text-green-400<TMPL_ELSIF ispremium>text-purple-400<TMPL_ELSE>text-gray-400</TMPL_IF>">
                  <TMPL_VAR usr_channel_name>
                </a>

                <!-- User Verified -->
                <TMPL_IF usr_verified>
                  <svg class="fill-indigo-400 h-3 w-3 inline-block ml-1" xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512">
                    <path
                      d="M256 0c36.8 0 68.8 20.7 84.9 51.1C373.8 41 411 49 437 75s34 63.3 23.9 96.1C491.3 187.2 512 219.2 512 256s-20.7 68.8-51.1 84.9C471 373.8 463 411 437 437s-63.3 34-96.1 23.9C324.8 491.3 292.8 512 256 512s-68.8-20.7-84.9-51.1C138.2 471 101 463 75 437s-34-63.3-23.9-96.1C20.7 324.8 0 292.8 0 256s20.7-68.8 51.1-84.9C41 138.2 49 101 75 75s63.3-34 96.1-23.9C187.2 20.7 219.2 0 256 0zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z">
                    </path>
                  </svg>
                </TMPL_IF>
              </div>
              </TMPL_UNLESS>

              <!-- Image file title -->
              <p class="mt-1 text-xs font-bold text-gray-300">
                <TMPL_VAR file_title>
                  <TMPL_IF edit_ok>
                    <a href="/?op=file_edit&amp;file_code=<TMPL_VAR file_code>" class="inline-flex">
                      <svg class="fill-gray-500 ml-1 w-3 h-3 items-center " xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 512 512">
                        <path
                          d="M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z" />
                      </svg>
                    </a>
                  </TMPL_IF>
              </p>
            </div>

            <div class="mr-10 absolute right-0 mt-1">
              <div class="text-xs font-medium text-gray-500">
                  <TMPL_VAR file_created_txt>
              </div>
            </div>

          </div>
        </div>

        <!-- Bottom bar -->
        <div class="mx-auto max-w-2xl mt-4 relative">
          <div class="flex justify-between gap-x-2 mb-5 items-center">
            <div>
              <div class="flex items-center gap-x-3">
                <!-- Category -->
                <TMPL_IF category2>
                  <div class="flex-none rounded-full bg-green-400/10 p-1 text-green-400">
                    <div class="h-2 w-2 rounded-full bg-current"></div>
                  </div>
                  <h1 class="flex gap-x-3 text-base leading-7">
                    <a href="/category/<TMPL_VAR category2>" class="font-semibold text-purple-300">
                      <TMPL_VAR category>
                    </a>
                  </h1>
                </TMPL_IF>
                <!-- Tags -->
                <TMPL_IF tags>
                  <p>
                    <TMPL_LOOP tags>
                      <a href="/tag/<TMPL_VAR tag_value2>/images"
                        class="inline-flex items-center gap-x-1.5 rounded-md px-2 py-1 text-xs font-medium text-gray-400 bg-slate-800 hover:bg-slate-700 hover:text-white mr-1">
                        <TMPL_VAR tag_value>
                      </a>
                    </TMPL_LOOP>
                  </p>
                </TMPL_IF>
              </div>
            </div>
          </div>

          <!-- File Description -->
          <TMPL_IF file_descr>
            <div x-data="{ isCollapsed: false}" class="mb-10  mr-10">
              <div class="rounded-lg bg-gray-700/10 shadow my-5 p-6">
                <div x-ref="container" class="overflow-hidden transition-all duration-200"
                  x-bind:style="isCollapsed ? 'max-height: ' + $refs.container.scrollHeight + 'px' : 'max-height: 70px'">
                  <div class="text-gray-400 text-sm leading-6">
                    <TMPL_VAR file_descr>
                  </div>
                </div>
                <button class="text-gray-300 mt-2 text-sm" @click="isCollapsed = !isCollapsed"
                  x-show="$refs.container.scrollHeight > 100" x-text="isCollapsed ? 'Show less' : '...more'"></button>
              </div>
            </div>
          </TMPL_IF>
        </div>
        <!-- / Image Container -->
    </TMPL_IF>
  </div>
</div>